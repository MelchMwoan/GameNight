@using Domain
@model GameNight2.Models.NewReviewModel

@{
	ViewBag.Title = "Create Review";
}

<partial name="_Validation" />
<h2>@ViewBag.Title</h2>
<div>
	<div>
		<form asp-action="CreateReview" asp-controller="Review" id="createReview" method="post" class="row">
			<h6>
				<input asp-for="nightId" class="d-none" value="@Model.nightId"/>
				<div class="form-group">
					<label asp-for="Description">Description:</label>
					<input class="form-control" asp-for="Description" />
					<span asp-validation-for="Description" class="text-danger"></span>
				</div>
			</h6>
			
			<label>Rating:</label>
			<div class="form-group col-12">
				<fieldset class="rating">
					<input type="number" class="d-none" step="0.1" asp-for="Rating">
					<input type="radio" id="5star2" name="rating2" value="5" />
					<label class="full" for="5star2" title="Excellent"></label>
					<input type="radio" id="4halfstar2" name="rating2" value="4.5" />
					<label class="half" for="4halfstar2" title="Good"></label>
					<input type="radio" id="4star2" name="rating2" value="4" />
					<label class="full" for="4star2" title="Pretty good"></label>
					<input type="radio" id="3halfstar2" name="rating2" value="3.5" />
					<label class="half" for="3halfstar2" title="Nice"></label>
					<input type="radio" id="3star2" name="rating2" value="3" />
					<label class="full" for="3star2" title="Ok"></label>
					<input type="radio" id="2halfstar2" name="rating2" value="2.5" />
					<label class="half" for="2halfstar2" title="Kinda bad"></label>
					<input type="radio" id="2star2" name="rating2" value="2" />
					<label class="full" for="2star2" title="Bad"></label>
					<input type="radio" id="1halfstar2" name="rating2" value="1.5" />
					<label class="half" for="1halfstar2" title="Meh"></label>
					<input type="radio" id="1star2" name="rating2" value="1" />
					<label class="full" for="1star2" title="Umm"></label>
					<input type="radio" id="halfstar2" name="rating2" value="0.5" />
					<label class="half" for="halfstar2" title="Worst"></label>
				</fieldset>
			</div>

			<div class="form-group col-8">
				<button class="btn btn-primary col-sm-4 text-center mt-3 d-none" id="addReviewBtn">Add Review</button>
			</div>
		</form>
	</div>
</div>
<script>
	$(document).on('click', 'fieldset label', function () {
		var that = this;
		setTimeout(function () {
			$(that).parent().find("input[type='number']").val($(that).parent().find("input[type='radio']:checked").val());
		}, 1);
	});
</script>
